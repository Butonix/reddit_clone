{% extends "base.html" %}
{% load static %}
{% block content %}


<div style="float:right">
    <a href="suggestion/" class="button">Create Post</a>
</div>

<div class="grid-x grid-padding-x" style="width:1000px; margin: 0 auto; vertical-align: middle;">
    <div class="large-10 medium-10 small-12 large-offset-1 medium-offset-1 cell">
  	     {% for sugg in sugg_list %}
		      <div class="card-info info">
                    <div class="card-section">
                        
                        <div class="article-details">
                            <!-- <a onload = "getID()" id= "curSub" href="/r/{{sugg.subreddit}}/"><span class="website">r/{{ sugg.subreddit }}</span> &#8226;</a> -->
                            <a href="/r/{{sugg.subreddit}}/"><span class="website">r/{{ sugg.subreddit }}</span> &#8226;</a>
                            <span class="time">{{ sugg.published_on }}</span> &#8226;
                            <a><span class="author">u/{{ sugg.author }}</span></a>
                        </div>

                        <h3 class="article-title">{{ sugg.header }}</h3>
                        <p class="article-summary">{{ sugg.suggestion }}</p>
                        <img src={{sugg.image}} onerror="this.style.display='none'" width="750" height="100"></img>

                   
                        <video width="717" height="350" controls src="{{sugg.video}}" onerror="this.style.display='none'" type="video/mp4">
                        </video>

                        <div>
                            <a href="/upvote/{{sugg.id}}/" class="button">Click to upvote!</a>
                            <a href="/downvote/{{sugg.id}}/" class="button">Click to downvote!</a>
                            <p> Likes: {{ sugg.upvote_count }} </p> 
                            <p> Dislikes: {{ sugg.downvote_count }} </p> 
                        </div>
                    
                        <a href="/post/{{sugg.id}}/">Comments</a>



                </div>
            </div>
        {% endfor %}
    </div>
 </div>  


{% endblock %}
{% block scripts %}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<!-- development version, includes helpful console warnings -->
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="{% static "js/myvue.js" %}"></script>
{% endblock %}
